<Page
    x:Class="MyShop.App.Views.LoginScreen"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:MyShop.App.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <StackPanel Width="400" 
                    HorizontalAlignment="Center" 
                    VerticalAlignment="Center" 
                    Spacing="20" 
                    Padding="30" 
                    Background="{ThemeResource LayerFillColorDefaultBrush}"
                    CornerRadius="8"
                    BorderThickness="1"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}">
            
            <TextBlock Text="MyShop Login" 
                       FontSize="28" 
                       HorizontalAlignment="Center" 
                       FontWeight="Bold" />

            <TextBox Header="Username" 
                     Text="{x:Bind ViewModel.Username, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                     PlaceholderText="Enter username" />

            <PasswordBox Header="Password" 
                         Password="{x:Bind ViewModel.Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                         PlaceholderText="Enter password" />

            <CheckBox Content="Remember me" 
                      IsChecked="{x:Bind ViewModel.RememberMe, Mode=TwoWay}" />

            <Button Content="Login" 
                    Command="{x:Bind ViewModel.LoginCommand}" 
                    HorizontalAlignment="Stretch" 
                    Style="{StaticResource AccentButtonStyle}" />

            <ProgressBar IsIndeterminate="True" 
                         Visibility="{x:Bind ViewModel.IsBusy, Mode=OneWay}" />

            <TextBlock Text="{x:Bind ViewModel.ErrorMessage, Mode=OneWay}" 
                       Foreground="Red" 
                       HorizontalAlignment="Center"
                       TextWrapping="Wrap"
                       Visibility="{x:Bind ViewModel.HasError, Mode=OneWay}" />

            <HyperlinkButton Content="Server Settings" 
                             Command="{x:Bind ViewModel.OpenConfigCommand}"
                             HorizontalAlignment="Center" />
        </StackPanel>
    </Grid>
</Page>